<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="stylesheet" href="css/swiper-3.3.1.min.css">
    <link rel="stylesheet" href="css/animate.css">
    <title>个人中心</title>
    <script src="js/rem.js"></script>
    <link rel="stylesheet" href="css/reset.css">
       <link rel="stylesheet" href="css/iconfont.css">
    <style>
        html,body{
            height:100%;
            background: #dfdfdf;
            max-width:640px;
            margin: 0 auto;

        }
        body{
            height:100%;
            background:#fff;
            font-size: 16px;
            margin:0 auto;
        }
        header{
        height:32px;
        background:#0f91c5;
        margin-right: 9px;
        font-size: 0.24rem;
        text-align: center;
        line-height:32px;
        color:#fff;
        margin-bottom: 0.19rem;
        }
        input[type="search"]{
        height:0.44rem;
        width:5.16rem;
        border:0.01rem #aaaaaa solid;
        border-radius: 0.05rem;
        margin-left: 0.1rem;
        margin-right: 0.05rem;
        float: left;
        margin-bottom:0.09rem;
        }
        button{
        height: 0.44rem;
        width:0.91rem;
        background: #0f91c5;
        border:none;
        outline: none;
        font-size: 0.24rem;
        border:0.01rem solid #ddd;
        color: #fff;
        float: left;
        border-radius: 0.05rem;
        margin-bottom:0.09rem;
        }
        .section{
        background: #f1f1f1;
        clear: both;
        border-top:#d9d9d9 solid 0.01rem;
        padding-top:0.1rem; 
        }
        .person{
        padding-top: 0.24rem;
        background: #fff;
        }
        .person dt{
        padding-left: 0.24rem;
        float: left;
        }
        .person dl{
        overflow: hidden;
        margin-bottom:0.18rem 
        }
        .person dt img{
        width: 0.95rem;
        height: 0.95rem;
        }
        .person dd{
        padding-left: 0.14rem;
        float: left;
        font-size: 0.24rem;

        }
        .person dd p:nth-child(1){
        margin:0.05rem 0 0.1rem 0px;
        }
        .person dd p:nth-child(2){
        color:#b8b8b8;
        }
        .person ul{
        height:0.53rem;
        border-bottom: #e5e5e5 0.01rem solid;
        display: -webkit-box;
        }
        .person ul li{
         width:33.3333%;

        }
        .person ul a{
            font-size: 0.24rem;
            display: block;
            height:0.48rem;
            text-align: center;
            line-height: 0.53rem;
        
        }
         .person ul li p{
            height:0.05rem;
            background: #0f91c5;
            width:100%;
            z-index: 200;
            display: none;
         }
        .person ul li:nth-child(1) p{
            display: block;
         }
        .main ul{
            display: -webkit-box;
         }
        .main ul li{
           box-flex:1;
           width:50%;
         }
         
        .swiper-container{
            width:6.4rem;
            margin:0;
            padding: 0;
            clear: both;
            z-index: 100;
            max-width: 640px;
        }
        .swiper-wrapper{
            width:100%;
            max-width: 640px;
        }
        .swiper-slide{
            width:100%;
            max-width: 640px;
        }
        .footer{
            height:40px;
            background: #f1f1f1;
            position: fixed;
            padding-top:5px ;
            bottom: 0;
            max-width: 640px;
            width: 100%;
            color: #ccc;
            font-size: 14px;
            z-index: 1000;
         }
        .footer ul{
            border-top: 1px solid #cdcdcd;
            display: -webkit-box;
            width: 100%;
            height: 40px;
            background: #fff;
         }
        .footer ul li{
        padding-top: 3px;
        line-height: 18px;
        -webkit-box-flex: 1;
        text-align: center;
        }
        .footer ul li a{
            color: #ccc;
        }
        .footer ul li:nth-child(3) a{
           height:40px;
           background:#fff;
           display: inline-block;
           width: 40px;
           border-radius: 50%;
           border:2px solid #dedede;
           margin-top:-8px;
           text-align: center;
           line-height: 40px;
          
        }
        .footer ul li.active{
            color: #0f91c5;
        }
        .footer ul li.active a{
            color: #0f91c5;
        }
      .swiper-pagination-bullet-active {
        opacity: 0;
        }
    .swiper-pagination-bullet {
        height:0.50rem;
        width: 2.12341rem;
        display: inline-block;
        opacity: 0;
        border-radius: 0;
    }
    .swiper{
        background: #ccc;
        clear: both;
        position: relative;
    }
    .scroller{margin-top: 5px;background: #fff;overflow:hidden;padding-top:2px;font-size: 14px; border-top:1px solid #d9d9d9}
    .scroller .mainleft{
        width:49%;  
        float: left;
    }
    .scroller img{
        width:100%;
        height: auto;
    }
    .scroller .mainright{
        width:49%;
        float: right;
    }
    .scroller dl{  border:1px solid #ccc;margin-bottom: 4.5px;}
    .scroller dd{margin:5px 0 11px 10px;}
     .nav{
        position:fixed;
        bottom: 0px;
        height: 0.8rem;
        width:100%;
        font-size: 0.24rem;     
    }
    </style>
</head>
<body>
    <header>个人中心</header>
    <input type="search" placeholder="请输入昵称">
    <button>搜索</button>
    <div class="section">
        <div class="person">
            <dl>
                <dt>
                    <img src="img/persona.png" alt="">
                </dt>
                <dd>
                    <p>我叫小萌</p>
                    <p>我是小萌我怕谁！哈哈哈哈</p>
                </dd>
            </dl>
           
            <ul style="position: relative;">
             <div class="ulla" style="position: absolute;">
                
            </div>
            <li><a href="###">照片<span>（1）</span></a><p></p></li>
                <li><a href="###">关注<span>（3）</span></a><p></p></li>
                <li><a href="###">粉丝<span>（8）</span></a><p></p></li>
                </ul>
            
        </div>
    </div>
    <div class="swiper-container">
    <div class="swiper-wrapper">
        <div class="swiper-slide swiper" id="wrapper">
              <div class="scroller">
             <div class="mainleft" >
            
             </div>
              <div class="mainright">
                   
              </div>
       </div>
        
        </div>
        <div class="swiper-slide swiper" id="wrappera">

           <div class="scroller">
             <div class="mainleft">
            
             </div>
              <div class="mainright">
                   
              </div>
       </div>
        
        </div>
        <div class="swiper-slide swiper" id="wrapperb">
            <div class="scroller">
             <div class="mainleft">
            
             </div>
              <div class="mainright">
                   
              </div>
       </div>
        
        </div>
    </div>  
    </div>              
    <div class="footer">
        <ul>
                <li>
                    <i class="icon iconfont">&#xe695;</i></br>
                    <a href="index.html">首页</a>
                </li>
            
                <li>
                    <i class="icon iconfont">&#xe699;</i></br>
                     <a href="search.html">发现</a>
                </li>

                 <li>
                      <a>
                          <i class="icon iconfont" style="font-size: 25px;">&#xe6d9;</i>
                      </a> 
                </li>
                 
                <li class="active">
                    <i class="icon iconfont">&#xe68e;</i> </br>
                     <a href="person">我的</a>
                </li>
              
                <li>
                    <i class="icon iconfont">&#xe630;</i></br>
                    <a href="###">退出</a>
                </li>   
        </ul>
    </div>
</body>
<script type="text/javascript" src="js/jquery-1.11.3.js"></script>

<script type="text/javascript" src="js/swiper-3.3.1.jquery.min.js"></script>
<script type="text/javascript" src="js/swiper.animate-twice.min.js"></script> 
<script src="js/iscroll.js"></script>   
<script>

  
  $(function(){
    $(".person ul li").on("click",function(){
            $(".person ul li").find("p").hide()
            $(".person ul li").eq(num).find("p").show()
    })
        var headerheight=$("header").height();
        var navheight=$("input").height();
        var footerheight=$(".nav").height();
        var person=$(".person").height();
        var allheight=$(window).height()
        var myscroll,wrappera,wrapperb
        $("#wrapper").height(allheight-(headerheight+navheight+person)-80)
         $("#wrappera").height(allheight-(headerheight+navheight+person)-80)
        $("#wrapperb").height(allheight-(headerheight+navheight+person)-80)
             myscroll=new iScroll("wrapper",{
                 mouseWheel: true, 
                 vScrollbar:false, 
                 hScrollbar:false,           
             })
             myscroll.refresh();
              wrappera=new iScroll("wrappera",{
                 mouseWheel: true,
                 vScrollbar:false,
                 hScrollbar:false,   
             })

             wrappera.refresh();

              wrapperb=new iScroll("wrapperb",{
                 mouseWheel: true, 
                 vScrollbar:false, 
                 hScrollbar:false, 
             })
             wrapperb.refresh();

             var num
            var mySwiper = new Swiper ('.swiper-container', {
            direction: 'horizontal',
            loop: false,
            pagination: '.ulla',
            paginationClickable: true,
            
            onSlideChangeStart: function(swiper){
            
            }, 
            onSlideChangeEnd: function(swiper){
              num=swiper.activeIndex
                $(".person ul li").find("p").hide()
               $(".person ul li").eq(num).find("p").show()
               switch(num){
                case 0:
                        indexaddpic(0,myscroll)
                break;
                case 1:
               
                        indexaddpic(1,wrappera)
                break;
                case 2:
                        indexaddpic(2,wrapperb)
                break;
                 
               }
            }
          })
           }) 
    indexaddpic(0)
      function indexaddpic(num,cba){
      var mainleft= $(".swiper-wrapper .swiper").eq(num).find(".scroller").find(".mainleft");
      var mainright= $(".swiper-wrapper .swiper").eq(num).find(".scroller").find(".mainright");
      // mainleft.css({
      //   background:"#0f0",
      //   height:"400px"
      // })
      // mainright.css({
      //    background:"#0ff",
      //   height:"400px"
      // })
       // mainleft.text("");
       // mainright.text("");
          var lw=mainleft.width();
          var tt;
          var bb=num+1
          function getshout(){
                var rh=mainright.height();
                console.info(rh)
                var lh=mainleft.height();
                if(lh<rh){
                 tt=mainleft[0];
                }else{
                 tt=mainright[0];
                }
               return tt
            } 
          console.info(getshout());
          console.info(bb);
          $.ajax({
                type:"GET",
                url:"http://localhost:8080/Proxy/FootBall/tweet/json/query/hotspot.do",
                async: true,
                data:{
                  "category":bb,
                },
                success:function(e){
                  var data=JSON.parse(e);
                  var aa=data.data.tweetlist;
                  console.info(aa);
                   for(var i=0;i<aa.length;i++){
                    var dl=document.createElement("dl");
                    var dt=document.createElement("dt");
                    var dd=document.createElement("dd");  
                    var img=new Image();
                    img.src="http://101.200.173.217:8080/FootBall/upload/files/20150715/"+aa[i].defaultFileName;
                    img.onload=function(){
                        cba.refresh()
                    }
                    dt.appendChild(img);
                    dd.innerHTML=aa[i].content;
                    dl.appendChild(dt);
                    dl.appendChild(dd);
                    getshout().appendChild(dl);
                    console.info(getshout())

                  }
                  flag=true;
                  }
               
               })
      } 
    
  </script>
</html